<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<fragment>
   <extension
         point="fr.lip6.move.coloane.core.formalisms">
      <Formalism
            extension="tpn"
            fkname="Time Petri Net"
            id="Time Petri Net"
            image="resources/clock.png"
            name="Time Petri Net">
         <XmlDescription>
            <Graph
                  name="TPN">
               <Attribute
                     bold="true"
                     drawable="true"
                     multiline="false"
                     name="title">
               </Attribute>
               <Attribute
                     drawable="true"
                     multiline="true"
                     name="authors">
               </Attribute>
               <Attribute
                     drawable="true"
                     multiline="true"
                     name="comments">
               </Attribute>
               <Node
                     container="false"
                     name="place">
                  <GraphicInfo
                        associatedFigure="fr.lip6.move.coloane.core.ui.figures.nodes.EllipseNode"
                        description="Create a place"
                        drawable="true"
                        fill="false"
                        height="15"
                        icon16px="resources/formalisms/place_16.png"
                        icon24px="resources/formalisms/place_24.png"
                        palettable="true"
                        paletteName="Place"
                        width="15">
                  </GraphicInfo>
                  <Attribute
                        bold="true"
                        drawable="true"
                        italic="false"
                        multiline="false"
                        name="name">
                  </Attribute>
                  <Attribute
                        bold="true"
                        default="0"
                        drawable="true"
                        italic="false"
                        multiline="false"
                        name="marking">
                  </Attribute>
               </Node>
               <Node
                     container="false"
                     name="transition">
                  <GraphicInfo
                        associatedFigure="fr.lip6.move.coloane.core.ui.figures.nodes.RectangleNode"
                        description="Create a transition"
                        drawable="true"
                        fill="false"
                        height="10"
                        icon16px="resources/formalisms/transition_16.png"
                        icon24px="resources/formalisms/transition_24.png"
                        palettable="true"
                        paletteName="Transition"
                        width="20">
                  </GraphicInfo>
                  <Attribute
                        bold="true"
                        drawable="true"
                        italic="false"
                        multiline="false"
                        name="label">
                  </Attribute>
                  <Attribute
                        bold="false"
                        default="private"
                        drawable="true"
                        enumerated="true"
                        italic="true"
                        multiline="false"
                        name="visibility">
                     <EnumerationValue
                           name="private">
                     </EnumerationValue>
                     <EnumerationValue
                           name="public">
                     </EnumerationValue>
                  </Attribute>
                  <Attribute
                        bold="true"
                        default="0"
                        drawable="true"
                        multiline="false"
                        name="earliestFiringTime">
                  </Attribute>
                  <Attribute
                        bold="true"
                        default="inf"
                        drawable="true"
                        italic="true"
                        multiline="false"
                        name="latestFiringTime">
                  </Attribute>
               </Node>
               <Arc
                     name="arc">
                  <GraphicInfo
                        associatedFigure="fr.lip6.move.coloane.core.ui.figures.arcs.DirectedArc"
                        description="Create an simple arc"
                        drawable="true"
                        icon16px="resources/formalisms/arc_16.png"
                        icon24px="resources/formalisms/arc_24.png"
                        palettable="true"
                        paletteName="Arc">
                  </GraphicInfo>
                  <Attribute
                        bold="false"
                        default="1"
                        drawable="true"
                        italic="false"
                        multiline="false"
                        name="valuation">
                  </Attribute>
               </Arc>
               <Arc
                     name="inhibitor">
                  <GraphicInfo
                        associatedFigure="fr.lip6.move.coloane.core.ui.figures.arcs.InhibitorArc"
                        description="Create a logical inhibitor arc"
                        drawable="true"
                        icon16px="resources/formalisms/inhibitor_16.png"
                        icon24px="resources/formalisms/inhibitor_24.png"
                        palettable="true"
                        paletteName="InhibitorArc">
                  </GraphicInfo>
                  <Attribute
                        default="1"
                        drawable="true"
                        multiline="false"
                        name="valuation">
                  </Attribute>
               </Arc>
               <Arc
                     name="test">
                  <GraphicInfo
                        associatedFigure="fr.lip6.move.coloane.core.ui.figures.arcs.TestArc"
                        description="Create a test arc (a.k.a read arc)"
                        drawable="true"
                        icon16px="resources/formalisms/test_16.PNG"
                        icon24px="resources/formalisms/test_24.PNG"
                        palettable="true"
                        paletteName="Test Arc">
                  </GraphicInfo>
                  <Attribute
                        default="1"
                        drawable="true"
                        multiline="true"
                        name="valuation">
                  </Attribute>
               </Arc>
               <Arc
                     name="reset">
                  <GraphicInfo
                        associatedFigure="fr.lip6.move.coloane.core.ui.figures.arcs.ResetArc"
                        description="Create a reset arc"
                        drawable="true"
                        icon16px="resources/formalisms/reset_16.PNG"
                        icon24px="resources/formalisms/reset_24.PNG"
                        palettable="true"
                        paletteName="Reset Arc">
                  </GraphicInfo>
               </Arc>
            </Graph>
            <Constraint
                  link="true"
                  name="ArcRulePP"
                  type="fr.lip6.move.coloane.core.motor.formalisms.constraints.ConnectionConstraint">
               <parameter
                     name="source"
                     value="place">
               </parameter>
               <parameter
                     name="target"
                     value="place">
               </parameter>
            </Constraint>
            <Constraint
                  link="true"
                  name="ArcRuleTT"
                  type="fr.lip6.move.coloane.core.motor.formalisms.constraints.ConnectionConstraint">
               <parameter
                     name="source"
                     value="transition">
               </parameter>
               <parameter
                     name="target"
                     value="transition">
               </parameter>
            </Constraint>
            <Constraint
                  link="true"
                  name="InhibitorConstraint"
                  type="fr.lip6.move.coloane.core.motor.formalisms.constraints.ConnectionConstraint">
               <parameter
                     name="arcType"
                     value="inhibitor">
               </parameter>
               <parameter
                     name="target"
                     value="place">
               </parameter>
               <parameter
                     name="source"
                     value="transition">
               </parameter>
            </Constraint>            
            <Constraint
                  link="true"
                  name="TestConstraint"
                  type="fr.lip6.move.coloane.core.motor.formalisms.constraints.ConnectionConstraint">
               <parameter
                     name="arcType"
                     value="test">
               </parameter>
               <parameter
                     name="target"
                     value="place">
               </parameter>
               <parameter
                     name="source"
                     value="transition">
               </parameter>
            </Constraint>            
            <Constraint
                  link="true"
                  name="ResetConstraint"
                  type="fr.lip6.move.coloane.core.motor.formalisms.constraints.ConnectionConstraint">
               <parameter
                     name="arcType"
                     value="reset">
               </parameter>
               <parameter
                     name="target"
                     value="place">
               </parameter>
               <parameter
                     name="source"
                     value="transition">
               </parameter>
            </Constraint>            
              </XmlDescription>               
      </Formalism>
   </extension>
</fragment>
