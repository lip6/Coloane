\section{Coloane}

\subsection{Le dépôt Subversion}
\par
Les répertoire concernant Coloane dans le dépôt sont :
\begin{itemize}
\item org.dqs.cpnamioe => le plug-in
\item org.dqs.cpnamioe.tests => les tests
\item org.dqs.feature => la feature qui inclut le plug-in
\item org.dqs.update => le projet qui génère le site d'update
\end{itemize}
\par
Pour faire un checkout de ces projets dans Eclipse, il suffit
de sélectionner les quatre projets puis de faire un clic droit
et sélectionner checkout (dans la perspective SVN, fournie par
Subclipse).\\
Il est très fortement recommandé d'utiliser Subclipse pour
faire le checkout, car il génère automatiquement certains fichiers
nécessaires pour les différents projets.

\subsection{Le projet de plug-in}
\par
C'est le projet central de Coloane. Il contient le code
et les fichiers nécessaires au fonctionnement du plug-in
(c'est le seul projet qui est réellement indispensable
pour faire fonctionner le plug-in).
\par



\subsection{Le projet de test}
\par
Ce projet contient les tests unitaires.\\
Pour lancer les tests, il suffit de faire un clic droit sur le
projet de test puis Run As -> JUnit Test.

\subsection{Le projet de feature}
\par
Ce projet est nécessaire pour le déploiement du plug-in.\\
Il contient, en plus d'une référence vers le plug-in,
des informations comme une description de la fonctionnalité,
Les dépendances ou le texte de la license.\\
Les dépendances sont calculées automatiquement en cliquant
sur ``Compute'', dans l'onglet ``Dependencies''.\\
Il est néccessaire de spécifier les dépendances à cet endroit,
en plus de celles qui sont dans le projet de plug-in, car
c'est ici que l'outil d'installation d'Eclipse ira chercher
la liste des dépendances.\\
La license se trouve à deux endroits différents :
\begin{itemize}
\item dans le fichier license.html;
\item dans le fichier feature.properties, en texte simple.
\end{itemize}
\par
La license a été reprise d'un autre projet (la plupart
des plug-ins utilisent la même license de la Fondation
Eclipse).
\par
Un autre point qui concerne particulièrement ce projet
est le numéro de version.\\
Chaque plug-in a son propre numéro de version, mais la feature
aussi en a un.\\
Dans le cas de Coloane, comme la feature ne contient qu'un seul
plug-in, la solution la plus cohérente est d'attribuer le
numéro de version du plug-in à la feature.\\
Dans le projet actuel, le numéro de version de la feature se cale
automatiquement sur celui du plug-in (Onglet ``Plug-ins'' puis
``Versions'' dans l'éditeur graphique obtenu en ouvrant le fichier
feature.xml).


\subsection{Le projet d'update site}
\par
Ce projet permet la création d'un répertoire qui sera
examiné par un Eclipse sur lequel on voudra installer
Coloane.\\
Il suffit ensuite de transférer (par exemple par ftp ou ssh)
le fichier site.xml et
les répertoires features et plugins à l'emplacement
souhaité du site d'update.
\par
Pour créer un site d'update, il faut juste ouvrir le
fichier site.xml et cliquer sur ``Build All''. Les
répertoires ``features'' et ``plugins'' sont alors créés,
et peuvent être transférés sur un répertoire distant
(ou en local, mais cela ne présente d'intérêt que
pour les tests).\\
C'est l'adresse de ce répertoire qu'il faudra diffuser
pour que les personnes qui souhhaitent installer ou
mettre à jour Coloane l'ajoute \textit{via}
``Help -> Software Updates -> Find and Install...''.
