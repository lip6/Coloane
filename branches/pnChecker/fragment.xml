<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<fragment>
   <extension
         point="fr.lip6.move.coloane.core.formalisms">
      <Formalism
            extension="ptn"
            fkname="AMI-Net"
            id="PT-Net Checker"
            image="resources/formalisms/ptn/ptn.png"
            name="Place/Transition Net Checker">
         <XmlDescription>
            <Graph
                  name="AMI-Net">
               <Attribute
                     drawable="true"
                     multiline="true"
                     name="authors">
                  <AttributeChecker
                        class_condition="checkerConditions.GraphAuthorsChecker"
                        message="Les noms des auteurs doivent être renseignés."
                        name="Authors checker"
                        severity="Info">
                  </AttributeChecker>
               </Attribute>
               <Attribute
                     default="0,0"
                     drawable="true"
                     multiline="false"
                     name="version">
               </Attribute>
               <Attribute
                     drawable="true"
                     multiline="true"
                     name="title">
               </Attribute>
               <Attribute
                     drawable="true"
                     multiline="false"
                     name="date">
               </Attribute>
               <Attribute
                     default="Designed with Coloane"
                     drawable="false"
                     multiline="true"
                     name="note">
               </Attribute>
               <Node
                     container="false"
                     name="place">
                  <GraphicInfo
                        associatedFigure="fr.lip6.move.coloane.core.ui.figures.nodes.EllipseNode"
                        description="Create a place"
                        drawable="true"
                        fill="false"
                        height="15"
                        icon16px="resources/formalisms/ptn/place_16.png"
                        icon24px="resources/formalisms/ptn/place_24.png"
                        palettable="true"
                        paletteName="Place"
                        width="15">
                  </GraphicInfo>
                  <Attribute
                        bold="true"
                        drawable="true"
                        italic="false"
                        multiline="false"
                        name="name">
                     <AttributeChecker
                           class_condition="checkerConditions.PlaceNameChecker"
                           message="Le nom de cette place ne commence pas par &quot;Place&quot;."
                           name="Place Name Checker"
                           severity="Info">
                     </AttributeChecker>
                  </Attribute>
                  <Attribute
                        bold="false"
                        default="0"
                        drawable="true"
                        italic="true"
                        multiline="true"
                        name="marking">
                  </Attribute>
                  <NodeChecker
                        class_condition="checkerConditions.IncomingArcsChecker"
                        message="Il y a au moins 3 arcs entrants sur ce noeud."
                        name="Incoming Arcs Checker"
                        severity="Info">
                  </NodeChecker>
               </Node>
               <Node
                     container="false"
                     name="transition">
                  <GraphicInfo
                        associatedFigure="fr.lip6.move.coloane.core.ui.figures.nodes.RectangleNode"
                        description="Create a transition"
                        drawable="true"
                        fill="false"
                        height="7"
                        icon16px="resources/formalisms/ptn/transition_16.png"
                        icon24px="resources/formalisms/ptn/transition_24.png"
                        palettable="true"
                        paletteName="Transition"
                        width="25">
                  </GraphicInfo>
                  <Attribute
                        bold="true"
                        drawable="true"
                        italic="false"
                        multiline="false"
                        name="name">
                     <AttributeChecker
                           class_condition="checkerConditions.TransitionNameChecker"
                           message="Le nom de cette transition ne commence pas par &quot;Transition&quot;."
                           name="Transition Name Checker"
                           severity="Info">
                     </AttributeChecker>
                  </Attribute>
                  <GraphicInfo
                        associatedFigure="fr.lip6.move.coloane.core.ui.figures.nodes.RectangleNode"
                        drawable="false"
                        fill="false"
                        height="25"
                        palettable="false"
                        width="7">
                  </GraphicInfo>
               </Node>
               <Arc
                     name="arc">
                  <GraphicInfo
                        associatedFigure="fr.lip6.move.coloane.core.ui.figures.arcs.DirectedArc"
                        description="Create an arc"
                        drawable="true"
                        icon16px="resources/formalisms/ptn/arc_16.png"
                        icon24px="resources/formalisms/ptn/arc_24.png"
                        palettable="true"
                        paletteName="Arc">
                  </GraphicInfo>
                  <Attribute
                        bold="false"
                        default="1"
                        drawable="true"
                        italic="false"
                        multiline="true"
                        name="valuation">
                     <AttributeChecker
                           class_condition="checkerConditions.ValuationChecker"
                           message="La valuation de l&apos;arc doit être comprise entre 2 et 5."
                           name="Valuation Checker"
                           severity="Error">
                     </AttributeChecker>
                  </Attribute>
                  <ArcChecker
                        class_condition="checkerConditions.ArcNodeSourceTargetNamesChecker"
                        message="Les noms des noeuds source et target de l&apos;arc sont les mêmes."
                        name="Node Source and Target Names Checker"
                        severity="Warning">
                  </ArcChecker>
               </Arc>
               <GraphChecker
                     class_condition="checkerConditions.GraphCheckerSuperior4Nodes"
                     message="Attention, le nombre de noeuds est strictement supérieur à 4."
                     name="Nombre de noeuds supérieur à 4"
                     severity="Warning">
               </GraphChecker>
            </Graph>
            <Constraint
                  link="true"
                  name="PlacePlace"
                  type="fr.lip6.move.coloane.core.motor.formalisms.constraints.ConnectionConstraint">
               <parameter
                     name="source"
                     value="place">
               </parameter>
               <parameter
                     name="target"
                     value="place">
               </parameter>
            </Constraint>
            <Constraint
                  link="true"
                  name="TransitionTransition"
                  type="fr.lip6.move.coloane.core.motor.formalisms.constraints.ConnectionConstraint">
               <parameter
                     name="source"
                     value="transition">
               </parameter>
               <parameter
                     name="target"
                     value="transition">
               </parameter>
            </Constraint>
         </XmlDescription>
      </Formalism>
   </extension>

</fragment>
