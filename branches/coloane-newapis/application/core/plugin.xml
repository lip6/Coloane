<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension-point id="exports" name="Exports" schema="schema/exports.exsd"/>
   <extension-point id="imports" name="Imports" schema="schema/imports.exsd"/>
   <extension-point id="reports" name="Reports" schema="schema/reports.exsd"/>
   <extension-point id="examples" name="Examples" schema="schema/examples.exsd"/>
   <extension-point id="formalisms" name="Formalisms" schema="schema/formalisms.exsd"/>
   <extension-point id="apis" name="Api" schema="schema/api.exsd"/>
   <extension
         id="perspective"
         name="Coloane's perspective"
         point="org.eclipse.ui.perspectives">
      <perspective
            class="fr.lip6.move.coloane.core.ui.ColoanePerspectiveFactory"
            fixed="false"
            icon="resources/icons/perspective.gif"
            id="fr.lip6.move.coloane.perspective"
            name="%PERSPECTIVE_NAME">
      </perspective>
   </extension>
    <extension
          id="actionSets"
          name="Coloane's menus and items"
          point="org.eclipse.ui.actionSets">
      <actionSet
            id="fr.lip6.move.coloane.actionSets"
            label="%MENUBAR_ID"
            visible="false">
         <menu
               id="coloaneServicesMenu"
               label="%MENUBAR_LABEL">
            <separator name="PlatformSeparator"/>
            <separator name="OthersMenusSeparator"/>
         </menu>
         <menu
               id="plateformMenu"
               label="%PLATFORM_MENU"
               path="coloaneServicesMenu/PlatformSeparator">
            <separator name="group1"/>
            <separator name="group2"/>
         </menu>
         <action
               class="fr.lip6.move.coloane.core.ui.actions.DisconnectModelAction"
               icon="resources/icons/disconnect.png"
               id="disconnect"
               label="%DISCONNECT_ITEM"
               menubarPath="coloaneServicesMenu/plateformMenu/group2"
               state="false"
               style="push"
               toolbarPath="coloaneServicesToolbarButtons"
               tooltip="%DISCONNECT_TIP">
         </action>
         <action
               class="fr.lip6.move.coloane.core.ui.actions.ConnectModelAction"
               icon="resources/icons/connect.png"
               id="connect"
               label="%CONNECT_ITEM"
               menubarPath="coloaneServicesMenu/plateformMenu/group2"
               state="false"
               style="push"
               toolbarPath="coloaneServicesToolbarButtons"
               tooltip="%CONNECT_TIP">
         </action>
         <action
               class="fr.lip6.move.coloane.core.ui.actions.BreakConnectionAction"
               icon="resources/icons/unauthenticate.png"
               id="breakconnection"
               label="%BREAK_ITEM"
               menubarPath="coloaneServicesMenu/plateformMenu/group1"
               state="false"
               style="push"
               toolbarPath="coloaneServicesToolbarButtons">
         </action>
         <action
               class="fr.lip6.move.coloane.core.ui.actions.AuthenticationAction"
               icon="resources/icons/authenticate.png"
               id="authentication"
               label="%AUTHENTICATION_ITEM"
               menubarPath="coloaneServicesMenu/plateformMenu/group1"
               state="true"
               style="push"
               toolbarPath="coloaneServicesToolbarButtons"
               tooltip="%AUTHENTICATION_TIP">
         </action>
         <action
               class="fr.lip6.move.coloane.core.ui.actions.ExportImageAction"
               icon="resources/icons/picture_save.png"
               id="fr.lip6.move.coloane.core.exportimage"
               label="ExportImage"
               toolbarPath="org.eclipse.ui.workbench.file/print.ext"
               tooltip="Export your model to image file">
            <enablement>
               <objectClass
                     name="fr.lip6.move.coloane.core.ui.editpart.GraphEditPart">
               </objectClass>
            </enablement>
         </action>
      </actionSet>
   </extension>
    <extension
          id="views"
          name="Coloane's views"
          point="org.eclipse.ui.views">
       <category
             id="fr.lip6.move.coloane.views"
             name="%VIEWS_CATEGORY"/>
       <view
             allowMultiple="false"
             category="fr.lip6.move.coloane.views"
             class="fr.lip6.move.coloane.core.ui.panels.HistoryView"
             icon="resources/icons/historic_view.gif"
             id="fr.lip6.move.coloane.views.HistoricView"
             name="%HISTORIC_VIEW"/>
       <view
             allowMultiple="false"
             category="fr.lip6.move.coloane.views"
             class="fr.lip6.move.coloane.core.ui.panels.ResultsView"
             icon="resources/icons/results_view.gif"
             id="fr.lip6.move.coloane.views.ResultsView"
             name="%RESULTS_VIEW"/>
       <view
             allowMultiple="false"
             category="fr.lip6.move.coloane.views"
             class="org.eclipse.ui.navigator.CommonNavigator"
             icon="resources/icons/models_navigator.gif"
             id="fr.lip6.move.coloane.views.NavigatorView"
             name="%NAVIGATOR_VIEW">
       </view>
    </extension>
    <extension
          id="editor"
          name="Coloane's Editor"
          point="org.eclipse.ui.editors">
       <editor
             class="fr.lip6.move.coloane.core.ui.ColoaneEditor"
             contributorClass="fr.lip6.move.coloane.core.ui.actions.ColoaneActionBarContributor"
             default="true"
             extensions="model"
             icon="resources/icons/model_resource.png"
             id="fr.lip6.move.coloane.editor.petri"
             name="%EDITOR_NAME">
       </editor>
    </extension>
    <extension
          id="newWizards"
          name="Models creation wizards"
          point="org.eclipse.ui.newWizards">
       <wizard
             canFinishEarly="true"
             category="org.eclipse.jdt.ui.java/"
             class="fr.lip6.move.coloane.core.ui.wizards.NewProjectWizard"
             finalPerspective="fr.lip6.move.coloane.perspective"
             hasPages="true"
             icon="resources/icons/project.gif"
             id="fr.lip6.move.coloane.wizard.projectWizard"
             name="%PROJECT_WIZARD"
             preferredPerspectives="fr.lip6.move.coloane.perspective"
             project="true">
       </wizard>
       <wizard
             canFinishEarly="false"
             category="org.eclipse.jdt.ui.java/"
             class="fr.lip6.move.coloane.core.ui.wizards.newmodel.NewModelWizard"
             finalPerspective="fr.lip6.move.coloane.perspective"
             hasPages="true"
             icon="resources/icons/model.gif"
             id="fr.lip6.move.coloane.wizard.modelWizard"
             name="%MODEL_WIZARD"
             preferredPerspectives="fr.lip6.move.coloane.perspective"
             project="false"/>
       <primaryWizard
             id="fr.lip6.move.coloane.wizard.projectWizard">
       </primaryWizard>
    </extension>
	<extension
       id="preferencePages"
       name="Coloane&apos;s Preference Pages"
       point="org.eclipse.ui.preferencePages">
        <page id="fr.lip6.move.coloane.ui.dialogs.ColoanePreference"
                name="Coloane"
                class="fr.lip6.move.coloane.core.ui.dialogs.ColoanePrefsPage">
        </page>
        <page id="org.eclipse.ui.articles.BadWordsColorPreference"
                name="%PREF_COLORS"
                class="fr.lip6.move.coloane.core.ui.dialogs.ColorsPrefs"
                category="fr.lip6.move.coloane.ui.dialogs.ColoanePreference">
        </page>
    
	</extension>
 <extension
       id="exportWizards"
       name="Coloane&apos;s Wizards for Export"
       point="org.eclipse.ui.exportWizards">
    <category
          id="fr.lip6.move.coloane.wizard.export.coloane"
          name="Coloane">
    </category>
 </extension>
 <extension
       id="importWizards"
       name="Coloane&apos;s Wizards for Import"
       point="org.eclipse.ui.importWizards">
    <category
          id="fr.lip6.move.coloane.wizard.import.coloane"
          name="Coloane">
    </category>
 </extension>
 <extension
       point="org.eclipse.ui.navigator.viewer">
    <viewer
          viewerId="fr.lip6.move.coloane.views.NavigatorView">
    </viewer>
    <viewerContentBinding
          viewerId="fr.lip6.move.coloane.views.NavigatorView">
       <includes>
          <contentExtension
                pattern="org.eclipse.ui.navigator.resourceContent">
          </contentExtension>
          <contentExtension
                pattern="org.eclipse.ui.navigator.resources.filters.*">
          </contentExtension>
          <contentExtension
                pattern="fr.lip6.move.coloane.core.ui.navigator.filters.*">
          </contentExtension>
          <contentExtension
                pattern="fr.lip6.move.coloane.core.modelcontents">
          </contentExtension>
       </includes>
    </viewerContentBinding>
    <viewerActionBinding
          viewerId="fr.lip6.move.coloane.views.NavigatorView">
       <includes>
          <actionExtension
                pattern="org.eclipse.ui.navigator.resources.*">
          </actionExtension>
       </includes>
    </viewerActionBinding>
 </extension>
 <extension
       point="org.eclipse.ui.navigator.navigatorContent">
    <navigatorContent
          activeByDefault="true"
          contentProvider="fr.lip6.move.coloane.core.ui.views.TreeContentProvider"
          icon="resources/icons/model_contents.gif"
          id="fr.lip6.move.coloane.core.modelcontents"
          labelProvider="fr.lip6.move.coloane.core.ui.views.LabelProvider"
          name="Model Contents"
          priority="normal">
       <triggerPoints>
       </triggerPoints>
    </navigatorContent>
    <commonWizard
          type="new"
          wizardId="fr.lip6.move.coloane.wizard.modelWizard">
       <enablement></enablement>
    </commonWizard>
    <commonWizard
          type="new"
          wizardId="fr.lip6.move.coloane.wizard.projectWizard">
       <enablement></enablement>
    </commonWizard>
 </extension>
 <extension
       id="modelingproject"
       name="Nature Coloane"
       point="org.eclipse.core.resources.natures">
    <runtime>
       <run
             class="fr.lip6.move.coloane.core.ui.ColoaneProjectNature">
       </run>
    </runtime>
 </extension>
 <extension point="org.eclipse.ui.ide.projectNatureImages">
  <image 
    id="org.eclipse.ui.modelProjectNatureImage"
    natureId="fr.lip6.move.coloane.core.modelingproject"
    icon="/resources/icons/model_tag.gif">
  </image>
 </extension>
 <extension
       point="org.eclipse.ui.perspectiveExtensions">
    <perspectiveExtension
          targetID="fr.lip6.move.coloane.perspective">
       <newWizardShortcut
             id="fr.lip6.move.coloane.wizard.projectWizard">
       </newWizardShortcut>
    </perspectiveExtension>
 </extension>
 <extension
       point="fr.lip6.move.coloane.core.reports">
    <report
          class="fr.lip6.move.coloane.core.results.reports.SyntaxCheckerReport"
          service_name="Petri net syntax checker">
    </report>
    <report
          class="fr.lip6.move.coloane.core.results.reports.LTLModCheck"
          service_name="LTL model checking on the symbolic RG">
    </report>
 </extension>
 <extension
       point="org.eclipse.ui.views.properties.tabbed.propertyContributor">
    <propertyContributor
          contributorId="fr.lip6.move.coloane.properties.contributor"
          typeMapper="fr.lip6.move.coloane.core.ui.properties.TypeMapper">
       <propertyCategory
             category="all">
       </propertyCategory>
    </propertyContributor>
 </extension>
 <extension
       point="org.eclipse.ui.views.properties.tabbed.propertyTabs">
    <propertyTabs
          contributorId="fr.lip6.move.coloane.properties.contributor">
       <propertyTab
             category="all"
             id="fr.lip6.move.coloane.core.properties.element"
             label="Element">
       </propertyTab>
       <propertyTab
             afterTab="fr.lip6.move.coloane.core.properties.element"
             category="all"
             id="fr.lip6.move.coloane.core.properties.graphic"
             label="Graphic">
       </propertyTab>
    </propertyTabs>
 </extension>
 <extension
       point="org.eclipse.ui.views.properties.tabbed.propertySections">
    <propertySections
          contributorId="fr.lip6.move.coloane.properties.contributor">
       <propertySection
             class="fr.lip6.move.coloane.core.ui.properties.sections.NodeSection"
             id="fr.lip6.move.coloane.core.section.NodeSection"
             tab="fr.lip6.move.coloane.core.properties.element">
            <input
                  type="fr.lip6.move.coloane.interfaces.model.INode">
            </input>
       </propertySection>
       <propertySection
             class="fr.lip6.move.coloane.core.ui.properties.sections.ArcSection"
             id="fr.lip6.move.coloane.core.section.ArcSection"
             tab="fr.lip6.move.coloane.core.properties.element">
          <input
                type="fr.lip6.move.coloane.interfaces.model.IArc">
          </input>
       </propertySection>
       <propertySection
             class="fr.lip6.move.coloane.core.ui.properties.sections.ModelSection"
             id="fr.lip6.move.coloane.core.section.ModelSection"
             tab="fr.lip6.move.coloane.core.properties.element">
          <input
                type="fr.lip6.move.coloane.interfaces.model.IGraph">
          </input>
       </propertySection>
       <propertySection
             class="fr.lip6.move.coloane.core.ui.properties.sections.NodeColorSection"
             id="fr.lip6.move.coloane.core.section.NodeColorSection"
             tab="fr.lip6.move.coloane.core.properties.graphic">
          <input
                type="fr.lip6.move.coloane.interfaces.model.INode">
          </input>
       </propertySection>
       <propertySection
             class="fr.lip6.move.coloane.core.ui.properties.sections.ArcColorSection"
             id="fr.lip6.move.coloane.core.section.ArcColorSection"
             tab="fr.lip6.move.coloane.core.properties.graphic">
          <input
                type="fr.lip6.move.coloane.interfaces.model.IArc">
          </input>
       </propertySection>
       <propertySection
             class="fr.lip6.move.coloane.core.ui.properties.sections.NodeLocationSection"
             id="fr.lip6.move.coloane.core.section.NodeLocationSection"
             tab="fr.lip6.move.coloane.core.properties.graphic">
          <input
                type="fr.lip6.move.coloane.interfaces.model.INode">
          </input>
       </propertySection>
       <propertySection
             class="fr.lip6.move.coloane.core.ui.properties.sections.NodeSizeSection"
             id="fr.lip6.move.coloane.core.section.NodeSizeSection"
             tab="fr.lip6.move.coloane.core.properties.graphic">
          <input
                type="fr.lip6.move.coloane.interfaces.model.INode">
          </input>
       </propertySection>
    </propertySections>
 </extension>
 <extension
       id="fr.lip6.move.coloane.core.formalisms"
       name="Formalisms Definition"
       point="fr.lip6.move.coloane.core.formalisms">
    <Formalism
          extension="ptn"
          id="PT-Net"
          image="resources/icons/model_resource.png"
          name="Place/Transition Net"
          fkname="AMI-Net">
       <XmlDescription>
          <Graph
                name="AMI-Net">
                <Attribute
                      drawable="true"
                      multiline="true"
                      name="authors">
                </Attribute>
                <Attribute
                      default="0,0"
                      drawable="true"
                      multiline="false"
                      name="version">
                </Attribute>
                <Attribute
                      drawable="true"
                      multiline="true"
                      name="title">
                </Attribute>
                <Attribute
                      drawable="true"
                      multiline="false"
                      name="date">
                </Attribute>
                <Attribute
                      default="Designed with Coloane"
                      drawable="false"
                      multiline="true"
                      name="note">
                </Attribute>
             <Node
                   container="false"
                   name="place">
                <GraphicInfo
                      associatedFigure="fr.lip6.move.coloane.core.ui.figures.nodes.EllipseNode"
                      description="Create a place"
                      drawable="true"
                      fill="false"
                      height="15"
                      icon16px="resources/formalisms/place_16.png"
                      icon24px="resources/formalisms/place_24.png"
                      palettable="true"
                      paletteName="Place"
                      width="15">
                </GraphicInfo>
                <Attribute
                      bold="true"
                      drawable="true"
                      italic="false"
                      multiline="false"
                      name="name">
                </Attribute>
                <Attribute
                      bold="false"
                      default="0"
                      drawable="true"
                      italic="true"
                      multiline="true"
                      name="marking">
                </Attribute>
             </Node>
             <Node
                   container="false"
                   name="transition">
                <GraphicInfo
                      associatedFigure="fr.lip6.move.coloane.core.ui.figures.nodes.RectangleNode"
                      description="Create a transition"
                      drawable="true"
                      fill="false"
                      height="7"
                      icon16px="resources/formalisms/transition_16.png"
                      icon24px="resources/formalisms/transition_24.png"
                      palettable="true"
                      paletteName="Transition"
                      width="23">
                </GraphicInfo>
                <Attribute
                      bold="true"
                      drawable="true"
                      italic="false"
                      multiline="false"
                      name="name">
                </Attribute>
             </Node>
             <Arc
                   name="arc">
                <GraphicInfo
                      associatedFigure="fr.lip6.move.coloane.core.ui.figures.arcs.SimpleArc"
                      description="Create an arc"
                      drawable="true"
                      icon16px="resources/formalisms/arc_16.png"
                      icon24px="resources/formalisms/arc_24.png"
                      palettable="true"
                      paletteName="Arc">
                </GraphicInfo>
                <Attribute
                      bold="false"
                      default="1"
                      drawable="true"
                      italic="false"
                      multiline="true"
                      name="valuation">
                </Attribute>
             </Arc>
          </Graph>
          <Constraint
                link="true"
                name="PlacePlace"
                type="fr.lip6.move.coloane.core.motor.formalisms.constraints.ConnectionConstraint">
             <parameter
                   name="source"
                   value="place">
             </parameter>
             <parameter
                   name="target"
                   value="place">
             </parameter>
          </Constraint>
          <Constraint
                link="true"
                name="TransitionTransition"
                type="fr.lip6.move.coloane.core.motor.formalisms.constraints.ConnectionConstraint">
             <parameter
                   name="source"
                   value="transition">
             </parameter>
             <parameter
                   name="target"
                   value="transition">
             </parameter>
          </Constraint>
       </XmlDescription>
    </Formalism>
    <Formalism
          extension="cpn"
          id="CPN"
          image="resources/icons/model_resource.png"
          name="Colored Petri Net"
          fkname="AMI-Net">
       <XmlDescription>
          <Graph
                name="AMI-Net">
             <Attribute
                   drawable="true"
                   multiline="true"
                   name="declaration">
             </Attribute>
             <Attribute
                   drawable="true"
                   multiline="true"
                   name="authors">
             </Attribute>
             <Attribute
                   default="0,0"
                   drawable="true"
                   multiline="false"
                   name="version">
             </Attribute>
             <Attribute
                   drawable="true"
                   multiline="true"
                   name="title">
             </Attribute>
             <Attribute
                   drawable="true"
                   multiline="false"
                   name="date">
             </Attribute>
             <Attribute
                   default="Designed with Coloane"
                   drawable="false"
                   multiline="true"
                   name="note">
             </Attribute>
             <Node
                   container="true"
                   name="place">
                <GraphicInfo
                      associatedFigure="fr.lip6.move.coloane.core.ui.figures.nodes.EllipseNode"
                      description="Create a place"
                      drawable="true"
                      icon16px="resources/formalisms/place_16.png"
                      icon24px="resources/formalisms/place_24.png"
                      palettable="true"
                      paletteName="Place">
                </GraphicInfo>
                <Attribute
                      drawable="true"
                      multiline="false"
                      name="name">
                </Attribute>
                <Attribute
                      drawable="true"
                      multiline="true"
                      name="domain">
                </Attribute>
                <Attribute
                      default="0"
                      drawable="true"
                      multiline="true"
                      name="marking">
                </Attribute>
             </Node>
             <Node
                   container="false"
                   name="transition">
                <GraphicInfo
                      associatedFigure="fr.lip6.move.coloane.core.ui.figures.nodes.RectangleNode"
                      description="Create a transition"
                      drawable="true"
                      height="7"
                      icon16px="resources/formalisms/transition_16.png"
                      icon24px="resources/formalisms/transition_24.png"
                      palettable="true"
                      paletteName="Transition"
                      width="25">
                </GraphicInfo>
                <Attribute
                      drawable="true"
                      multiline="false"
                      name="name">
                </Attribute>
                <Attribute
                      drawable="true"
                      multiline="true"
                      name="guard">
                </Attribute>
             </Node>
             <Node
                   container="false"
                   name="queue">
                <GraphicInfo
                      description="Create a queue"
                      drawable="true"
                      icon16px="resources/formalisms/queue_16.png"
                      icon24px="resources/formalisms/queue_24.png"
                      palettable="true"
                      paletteName="Queue">
                </GraphicInfo>
                <Attribute
                      drawable="true"
                      multiline="false"
                      name="name">
                </Attribute>
                <Attribute
                      drawable="true"
                      multiline="true"
                      name="domain">
                </Attribute>
                <Attribute
                      drawable="true"
                      multiline="true"
                      name="marking">
                </Attribute>
             </Node>
             <Arc
                   name="arc">
                <GraphicInfo
                      description="Create an arc"
                      drawable="true"
                      icon16px="resources/formalisms/arc_16.png"
                      icon24px="resources/formalisms/arc_24.png"
                      palettable="true"
                      paletteName="Arc">
                </GraphicInfo>
                <Attribute
                      default="1"
                      drawable="true"
                      multiline="true"
                      name="valuation">
                </Attribute>
             </Arc>
             <Arc
                   name="inhibitor">
                <GraphicInfo
                      description="Create an inhibitor arc between a place and a transition"
                      drawable="true"
                      icon16px="resources/formalisms/inhibitor_16.png"
                      icon24px="resources/formalisms/inhibitor_24.png"
                      palettable="true"
                      paletteName="Inhibitor Arc">
                </GraphicInfo>
                <Attribute
                      default="1"
                      drawable="true"
                      multiline="true"
                      name="valuation">
                </Attribute>
             </Arc>
          </Graph>
          <Constraint
                link="true"
                name="PlacePlace"
                type="fr.lip6.move.coloane.core.motor.formalisms.constraints.ConnectionConstraint">
             <parameter
                   name="source"
                   value="place">
             </parameter>
             <parameter
                   name="target"
                   value="place">
             </parameter>
          </Constraint>
          <Constraint
                link="true"
                name="TransitionTransition"
                type="fr.lip6.move.coloane.core.motor.formalisms.constraints.ConnectionConstraint">
             <parameter
                   name="source"
                   value="transition">
             </parameter>
             <parameter
                   name="target"
                   value="transition">
             </parameter>
          </Constraint>
       </XmlDescription>
    </Formalism>
    <Formalism
          extension="rg"
          id="RG"
          image="resources/icons/model_resource.png"
          name="Reachability Graph"
          fkname="ReachabilityGraph">
       <XmlDescription>
          <Graph
                name="ReachabilityGraph">
             <Node
                   container="false"
                   name="initial state">
                <GraphicInfo
                      associatedFigure="fr.lip6.move.coloane.core.ui.figures.nodes.EllipseNode"
                      description="Create an initial state"
                      drawable="true"
                      height="15"
                      icon16px="resources/formalisms/initial_16.png"
                      icon24px="resources/formalisms/initial_24.png"
                      palettable="true"
                      paletteName="Initial State"
                      width="15">
                </GraphicInfo>
             </Node>
             <Node
                   container="true"
                   name="terminal state">
                <GraphicInfo
                      associatedFigure="fr.lip6.move.coloane.core.ui.figures.nodes.EllipseNode"
                      description="Create a terminal state"
                      drawable="true"
                      fill="true"
                      height="15"
                      icon16px="resources/formalisms/terminal_16.png"
                      icon24px="resources/formalisms/terminal_24.png"
                      palettable="true"
                      paletteName="Terminal State"
                      width="15">
                </GraphicInfo>
             </Node>
             <Node
                   container="false"
                   name="state">
                <GraphicInfo
                      associatedFigure="fr.lip6.move.coloane.core.ui.figures.nodes.EllipseNode"
                      description="Create a state"
                      drawable="true"
                      fill="false"
                      height="15"
                      icon16px="resources/formalisms/state_16.png"
                      icon24px="resources/formalisms/state_24.png"
                      palettable="true"
                      paletteName="State"
                      width="15">
                </GraphicInfo>
             </Node>
             <Arc
                   name="event">
                <GraphicInfo
                      associatedFigure="fr.lip6.move.coloane.core.ui.figures.arcs.SimpleArc"
                      description="Create an event"
                      drawable="true"
                      icon16px="resources/formalisms/arc_16.png"
                      icon24px="resources/formalisms/arc_24.png"
                      palettable="true"
                      paletteName="Event">
                </GraphicInfo>
             </Arc>
          </Graph>
       </XmlDescription>
    </Formalism>
 </extension>
</plugin>
