\section{Développement d'un plug-in avec Eclipse}
\subsection{PDE : plug-in Development Environment}
Eclipse, en tant que plate-forme très fortement basée
sur la notion de plug-in, se devait d'avoir son
environnement de développement de plug-ins.\\
Cest chose faite avec PDE, qui fournit des modèles
de projets pour toutes les phases du développement
et du déploiement d'un plug-in.\\
Il offre également des interfaces graphiques qui permettent de ne
pas avoir à modifier certains fichiers en mode texte (l'interface
graphique s'ouvre automatiquement quand on ouvre le fichier).


\subsection{Ecriture du plug-in}
\par
Un plug-in est constitué :
\begin{itemize}
\item de code
\item de fichiers annexes (images, ...).
\end{itemize}
\par
Le but du projet de plug-in est d'offrir un environnement de
développement qui prenne en compte les besoins rencontrés
lors de l'écriture d'un plug-in Eclipse, ainsi que de définir les
constituants du plug-in qui seront fournis dans la distribution.\\
PDE intervient ici en fournissant une interface graphique pour
la configuration du plug-in (fichiers plugin.xml, build.properties
et MANIFEST.MF).
\par
Les fichiers ``.properties'' définissent des variables (nom du plugin,
numéro de version, extensions, chemins, ...) qui sont
utilisés dans les .xml correspondant.

\subsection{Tests}
\par
C'est ici que le ``tout est projet'' entre en jeu, et permet
de répondre à la question : où mettre les tests ?\\
Si on écrit les tests dans le même projet que le plug-in,
cela revient à les inclure dans la distribution du plug-in,
ce qui présente peu d'intérêt pour l'utilisateur final. Il
n'a en effet aucun besoin du code des tests pour exécuter
le plug-in.
\par
On pourrait jouer sur les règles de build pour ne pas inclure
les tests dans le plug-in distribué, mais cette solution
nous force à nous éloigner de PDE pour la gestion
du projet.
\par
La solution que j'ai retenue est la création d'un nouveau
projet dédié aux tests.\\
Ce projet a la structure classique d'un projet Eclipse. Le
seul élément dont avons besoin est l'accès aux classes
du projet à tester. Pour cela, il suffit d'inclure le projet
à tester en dépendance du projet de test.
\par
L'écriture des tests se fait ensuite de manière tout à fait
classique, en créant une nouvelle classe de test dans le projet
de tests pour chaque classe à tester.

\subsection{Déploiement}
\subsubsection{Encapsulation dans une feature}
\par
Comme nous l'avons vu plus haut, ce n'est pas un plug-in
mais une fonctionnalité qui sera installée (si l'on opte pour
une installation \textit{via} Eclipse).\\
Pour cela PDE propose le Feature Project, qui permet de
regrouper des plug-ins au sein d'une fonctionnalité.\\
Les informations concernant ce type de projet sont
contenues dans le fichier feature.xml.\\
Comme pour les fichiers équivalents dans le Plug-in Project,
PDE propose une interface graphique pour modifier le
fichier feature.xml.\\
De manière équivalente au fichier plugin.properties, le
fichier feature.properties permet de définir des variables
qui seront utilisées dans le feature.xml.

\subsubsection{Mise à disposition de la feature pour un Eclipse client}
\par
Maintenant que l'on dispose de notre feature, il faut générer les
fichiers nécessaires pour le site d'update.\\
Un site d'update est un emplacement (sur le réseau ou sur le système
de fichiers) qui permet à l'outil d'installation d'Eclipse de télécharger
les fichiers nécessaires à l'ajout d'une fonctionnalité.\\
