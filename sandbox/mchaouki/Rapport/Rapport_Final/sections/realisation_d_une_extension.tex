\section{Réalisation d'une extension}
Pour réaliser des extensions pour Coloane offrant de nouveaux services d'imporations ou d'exportations, 
il suffit d'utilisé, les points d'extensions que nous avons définie, précedement.Ici, aussi grâce au, PDE, 
nous pouvons créer facilement des extensions.
Nous allons vous présenter la définition d'un extension permettant d'exporter au format DOT, en utilsant le PDE. 

\subsection{Définition de l'extension \textbf{exportToDOT}}
Dans l'éditeur de fichiers manifestes de ce plugin, sélectionner l'onglet 'Extensions'. 
Dans cet onglet cliquer sur le bouton 'Add...' : la liste de tous les points d'extension est présentée.
Dans l'assistant décocher la case 'Show only extension points from required plugins' et sélectionner 
le point d'extension \textbf{fr.lip6.move.coloane.core.exports}:
%% AJOUTER IMAGE %%
\\
\includegraphics[width=1.00\textwidth]{images/ext1.jpg}
%% AJOUTER IMAGE %%
\\
\\
\\


L'objectif de l'onglet 'Extensions' est de générer la définition XML de 
l'extension dans le fichier plugin.xml. Sélectionner le point d'extension 
et utiliser le menu contextuel pour ajouter un des éléments XML déclarés dans 
la grammaire associée au point d'extension, dans notre cas un élément de type 'Exports':
%% AJOUTER IMAGE %%
\\
\includegraphics[width=1.00\textwidth]{images/ext2.jpg}
%% AJOUTER IMAGE %%
\\
\\
\\


La partie de gauche de l'éditeur permet de voir les attributs associés à cet 
élément XML et d'indiquer leurs valeurs :
%% AJOUTER IMAGE %%
\\
\includegraphics[width=1.00\textwidth]{images/ext3.jpg}
%% AJOUTER IMAGE %%
\\
\\
\\


La définition de notre extension est terminée, le code XML correspondant a été généré dans le fichier plugin.xml :
\begin{verbatim}
<extension
         point="fr.lip6.move.coloane.core.exports">
      <Export
            class="fr.lip6.move.coloane.extension.exportToDOT.ExportToImpl"
            id="exportToDOT"
            name="DOT">
      </Export>
</extension>
\end{verbatim}

\subsection{Classe associée à l'extension}
L'étape suivante consiste à créer la classe indiquée par l'attribut \textbf{class}. Le PDE fournit une aide 
sympathique : le libellé de l'attribut ' \textbf{class} est un lien hypertexte capable d'ouvrir l'assistant de 
création de classe et de pré-remplir les champs (notamment le nom de l'interface à 
implémenter et/ou de la classe à étendre) :

%% AJOUTER IMAGE %%
%\includegraphics[width=1.00\textwidth]{pe1.jpg}
%% AJOUTER IMAGE %%

Faire créer la classes 'ExportToImpl' en sélectionnant le lien hypertexte 'classe*'. Et la compléter pour implementer la fonction export:
\begin{lstlisting}[language=java]
package fr.lip6.move.coloane.extension.exportToDOT;

import java.util.Vector;
import fr.lip6.move.coloane.core.exceptions.ColoaneException;
import fr.lip6.move.coloane.core.interfaces.IExportTo;
import fr.lip6.move.coloane.core.ui.model.IModelImpl;

public class ExportToImpl implements IExportTo {

	public ExportToImpl() {

	}

	public void export(IModelImpl modeleCourant, String filePath)
			throws ColoaneException {
		DotTranslator translator = new DotTranslator();
		Vector<String> model = translator.translateModel(modeleCourant.getGenericModel());
		translator.saveModel(model, filePath);
	}

}
\end{lstlisting}










